/* Global Styles for rust-green */

/* Import design tokens */
@import '../tokens/_index.css';

/* Root element styles */
:root {
  /* Ensure full viewport height */
  min-height: 100vh;
}

/* Body styles */
body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: var(--color-background);
  color: var(--color-text-body);
}

/* Main content area */
main {
  flex: 1 0 auto;
  width: 100%;
}

/* Container utility */
.container {
  width: 100%;
  max-width: var(--container-xl);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

.container-sm {
  max-width: var(--container-sm);
}

.container-md {
  max-width: var(--container-md);
}

.container-lg {
  max-width: var(--container-lg);
}

.container-xl {
  max-width: var(--container-xl);
}

.container-2xl {
  max-width: var(--container-2xl);
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only-focusable:focus,
.sr-only-focusable:active {
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Visually hidden utility */
.visually-hidden {
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
}

/* Skip to main content link */
.skip-to-main {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--color-primary);
  color: var(--color-text-on-primary);
  padding: var(--space-2) var(--space-4);
  text-decoration: none;
  border-radius: 0 0 var(--radius-base) 0;
  z-index: 9999;
  transition: top var(--transition-fast);
}

.skip-to-main:focus {
  top: 0;
}

/* Focus styles for keyboard navigation */
:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Remove focus styles for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--color-background-alt);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: var(--radius-full);
  border: 3px solid var(--color-background-alt);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-dark);
}

/* Selection styles */
::selection {
  background-color: var(--color-primary-light);
  color: var(--color-text-on-dark);
}

::-moz-selection {
  background-color: var(--color-primary-light);
  color: var(--color-text-on-dark);
}

/* Image optimization */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Lazy loading images */
img[loading="lazy"] {
  opacity: 0;
  transition: opacity var(--transition-base);
}

img[loading="lazy"].loaded {
  opacity: 1;
}

/* Aspect ratio containers */
.aspect-ratio-16-9 {
  aspect-ratio: 16 / 9;
}

.aspect-ratio-4-3 {
  aspect-ratio: 4 / 3;
}

.aspect-ratio-1-1 {
  aspect-ratio: 1 / 1;
}

.aspect-ratio-3-2 {
  aspect-ratio: 3 / 2;
}

.aspect-ratio-2-3 {
  aspect-ratio: 2 / 3;
}

/* Loading states */
.loading {
  position: relative;
  pointer-events: none;
  opacity: 0.7;
}

.loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid var(--color-border);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Error states */
.error {
  border-color: var(--color-danger);
  color: var(--color-danger);
}

.error-message {
  color: var(--color-danger);
  font-size: var(--font-size-sm);
  margin-top: var(--space-1);
}

/* Success states */
.success {
  border-color: var(--color-success);
  color: var(--color-success);
}

.success-message {
  color: var(--color-success);
  font-size: var(--font-size-sm);
  margin-top: var(--space-1);
}

/* Warning states */
.warning {
  border-color: var(--color-warning);
  color: var(--color-warning);
}

.warning-message {
  color: var(--color-warning);
  font-size: var(--font-size-sm);
  margin-top: var(--space-1);
}

/* Info states */
.info {
  border-color: var(--color-info);
  color: var(--color-info);
}

.info-message {
  color: var(--color-info);
  font-size: var(--font-size-sm);
  margin-top: var(--space-1);
}

/* Disabled states */
.disabled,
[disabled] {
  opacity: 0.5;
  cursor: not-allowed !important;
  pointer-events: none;
}

/* Print styles */
@media print {
  body {
    background: white !important;
    color: black !important;
  }
  
  .no-print {
    display: none !important;
  }
  
  a {
    color: black !important;
    text-decoration: underline !important;
  }
  
  .break-after {
    page-break-after: always;
  }
  
  .break-before {
    page-break-before: always;
  }
  
  .break-inside-avoid {
    page-break-inside: avoid;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  :root {
    --color-primary: #004d00;
    --color-primary-dark: #003300;
    --color-danger: #990000;
    --color-warning: #996600;
    --color-success: #006600;
    --color-info: #004499;
  }
  
  * {
    border-width: 2px !important;
  }
}

/* Dark mode (future implementation) */
@media (prefers-color-scheme: dark) {
  /* This will be implemented in a future phase */
  /* For now, we keep the light theme as default */
}

/* Utility classes for common patterns */
.full-width {
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}

.sticky-top {
  position: sticky;
  top: 0;
  z-index: 100;
}

.sticky-bottom {
  position: sticky;
  bottom: 0;
  z-index: 100;
}

.z-0 { z-index: 0; }
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-30 { z-index: 30; }
.z-40 { z-index: 40; }
.z-50 { z-index: 50; }
.z-auto { z-index: auto; }

.overflow-hidden { overflow: hidden; }
.overflow-auto { overflow: auto; }
.overflow-scroll { overflow: scroll; }
.overflow-x-auto { overflow-x: auto; }
.overflow-y-auto { overflow-y: auto; }

.pointer-events-none { pointer-events: none; }
.pointer-events-auto { pointer-events: auto; }

.user-select-none { user-select: none; }
.user-select-text { user-select: text; }
.user-select-all { user-select: all; }

.cursor-pointer { cursor: pointer; }
.cursor-default { cursor: default; }
.cursor-not-allowed { cursor: not-allowed; }
.cursor-wait { cursor: wait; }
.cursor-text { cursor: text; }
.cursor-move { cursor: move; }

.opacity-0 { opacity: 0; }
.opacity-25 { opacity: 0.25; }
.opacity-50 { opacity: 0.5; }
.opacity-75 { opacity: 0.75; }
.opacity-100 { opacity: 1; }
